- Container_Toggle_2:
    Control: GroupContainer@1.3.0
    Variant: ManualLayout
    Properties:
      Fill: =RGBA(245, 245, 245, 1)
      Height: =35
      RadiusBottomLeft: =20
      RadiusBottomRight: =20
      RadiusTopLeft: =20
      RadiusTopRight: =20
      Width: =100
      X: =304
      Y: =40
    Children:
      - Timer_UnderlyingColorAnimation_1:
          Control: Timer@2.1.0
          Properties:
            Duration: =250
            Height: =35
            OnTimerEnd: =Set(gv_toggle2_animating, false)
            Start: =gv_toggle2_animating
            Visible: =false
            Width: =Parent.Width
      - HtmlText_UnderlyingColor_1:
          Control: HtmlViewer@2.1.0
          Properties:
            Color: =Color.WhiteSmoke
            Height: =ButtonCanvas_Option1_1.Height + 1
            HtmlText: |-
              =With(
                  {
                      r: Parent.RadiusTopLeft,
                      borderWidth: 1.5,
                      isSuccess: cv_toggle2_selection  // Change this to your condition
                  },
                  If(
                      isSuccess,
                      // Green gradient with centered checkmark
                      "
                      <div 
                          style='
                              width:" & Self.Width & "px; 
                              height:" & Self.Height - 1 & "px; 
                              margin:0; 
                              padding:0; 
                              box-sizing:border-box; 
                              border-radius:" & r & "px; 
                              background:linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0.08));
                              display:flex; 
                              align-items:center;
                              justify-content:center;
                              overflow:hidden;
                          '
                      >
                          <div style='
                              width:" & Self.Width - 2 * borderWidth & "px; 
                              height:" & Self.Height - 1 - 2 * borderWidth & "px; 
                              border-radius:" & r - borderWidth & "px;
                              background:linear-gradient(135deg, #1b5e20 0%, #4caf50 100%);
                              display:flex; 
                              align-items:center;
                              justify-content:center;
                              position:relative;
                          '>
                          </div>
                      </div>
                      ",
                      // Red gradient with refined cross
                      "
                      <div 
                          style='
                              width:" & Self.Width & "px; 
                              height:" & Self.Height - 1 & "px; 
                              margin:0; 
                              padding:0; 
                              box-sizing:border-box; 
                              border-radius:" & r & "px; 
                              background:linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0.08));
                              display:flex; 
                              align-items:center;
                              justify-content:center;
                              overflow:hidden;
                          '
                      >
                          <div style='
                              width:" & Self.Width - 2 * borderWidth & "px; 
                              height:" & Self.Height - 1 - 2 * borderWidth & "px; 
                              border-radius:" & r - borderWidth & "px;
                              background:linear-gradient(135deg, #c62828 0%, #ef5350 100%);
                              display:flex; 
                              align-items:center;
                              justify-content:center;
                              position:relative;
                          '>
                              <div style='
                                  position:relative;
                                  width:" & Self.Width * 0.45 & "px;
                                  height:" & Self.Width * 0.45 & "px;
                              '>
                              </div>
                          </div>
                      </div>
                      "
                  )
              )
            OnSelect: |-
              =UpdateContext(
                  {
                      cv_toggle2_selection: !cv_toggle2_selection
                  }
              );
              Reset(Timer_UnderlyingColorAnimation_1);
              Set(gv_toggle2_animating, true)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Width: =Self.Height
            X: |-
              =With(
                  {
                      startX: If(cv_toggle2_selection, Self.Y, Parent.Width - Self.Width - Self.Y),
                      endX: If(cv_toggle2_selection, Parent.Width - Self.Width - Self.Y, Self.Y),
                      t: Timer_UnderlyingColorAnimation_1.Value / Timer_UnderlyingColorAnimation_1.Duration
                  },
                  If(
                      gv_toggle2_animating,
                      startX + (endX - startX) * If(t < 0.5, 2 * t * t, 1 - Power(-2 * t + 2, 2) / 2),
                      If(cv_toggle2_selection, Parent.Width - Self.Width - Self.Y, Self.Y)
                  )
              )
            Y: =ButtonCanvas_Option1_1.Y
      - Image_Toggle2_Icon:
          Control: Image@2.2.3
          Properties:
            BorderColor: =RGBA(0, 0, 0, 1)
            Height: =HtmlText_UnderlyingColor_1.Height
            Image: "=\"data:image/svg+xml;utf8, \"\n& EncodeUrl(\n    If(\n        cv_toggle2_selection,\n\n        //Check icon\n        \"<svg xmlns='http://www.w3.org/2000/svg' fill='#FFFFFF' aria-hidden='true' width='40px' height='40px' viewBox='0 0 20 20'><path d='M3.37 10.17a.5.5 0 0 0-.74.66l4 4.5c.19.22.52.23.72.02l10.5-10.5a.5.5 0 0 0-.7-.7L7.02 14.27l-3.65-4.1Z' fill='#FFFFFF'/></svg>\",\n        \n        //Cross icon\n        \"<svg xmlns='http://www.w3.org/2000/svg' fill='#FFFFFF' aria-hidden='true' width='40px' height='40px' viewBox='0 0 20 20'><path d='m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z' fill='#FFFFFF'/></svg>\"\n    )\n)"
            PaddingBottom: =Self.PaddingTop
            PaddingLeft: =Self.PaddingRight
            PaddingRight: =(Self.Width - 16) / 2
            PaddingTop: =(Self.Height - 16) / 2
            Width: =HtmlText_UnderlyingColor_1.Width
            X: =HtmlText_UnderlyingColor_1.X
            Y: =HtmlText_UnderlyingColor_1.Y
      - ButtonCanvas_Option1_1:
          Control: Button@0.0.45
          Properties:
            Align: =Align.Center
            Appearance: ='ButtonCanvas.Appearance'.Transparent
            BorderRadius: =Parent.RadiusTopLeft
            FontColor: =App.Theme.Colors.Darker50
            Height: =Parent.Height - 2*Self.Y
            OnSelect: |-
              =UpdateContext({cv_toggle2_selection: !cv_toggle2_selection});
              Reset(Timer_UnderlyingColorAnimation_1);
              Set(gv_toggle2_animating, true)
            PaddingLeft: =If(cv_toggle2_selection, 0, Self.Height/2)
            PaddingRight: =If(!cv_toggle2_selection, 0, Self.Height/2)
            Text: =If(cv_toggle2_selection, "Yes", "No")
            Width: =Parent.Width
            X: =2
            Y: =Self.X
